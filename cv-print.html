<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Print CV</title>
    <style>
        /* Styl dla ekranu */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Ukrycie pasków przewijania */
        }
        .svg-container {
            width: 100vw; /* Pełna szerokość okna przeglądarki */
            height: 100vh; /* Pełna wysokość okna przeglądarki */
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: white; /* Tło białe dla drukowania */
        }
        .svg-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain; /* Zachowanie proporcji SVG */
        }

        /* Styl dla drukowania */
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .svg-container {
                width: 100%; /* Pełna szerokość strony A4 */
                height: 100vh; /* Pełna wysokość strony A4 */
                page-break-after: always; /* Wymuszenie podziału strony po każdym SVG */
            }
            .svg-container img {
                width: 100%; /* Pełna szerokość strony A4 */
                max-width: 1200px; /* Ograniczenie szerokości do 1200px, tak jak w cv.html */
                height: auto; /* Zachowanie proporcji SVG */
                margin: 0 auto; /* Wyśrodkowanie SVG na stronie */
            }
        }
    </style>
</head>
<body>

<!-- Pierwszy plik SVG -->
<div class="svg-container">
    <img id="svg1" src="cv_1_en.svg" alt="CV Page 1">
</div>

<!-- Drugi plik SVG -->
<div class="svg-container">
    <img id="svg2" src="cv_2_en.svg" alt="CV Page 2">
</div>

<script>
    let timeoutId;
    const delay = 500; // Pół sekundy (500 ms)

    // Funkcja do cofnięcia strony
    function goBack() {
        window.history.back();
    }

    // Funkcja do resetowania timera
    function resetTimer() {
        clearTimeout(timeoutId); // Czyścimy poprzedni timer
        timeoutId = setTimeout(goBack, delay); // Ustawiamy nowy timer
    }

    // Obsługa ruchu myszką
    document.addEventListener('mousemove', resetTimer);

    // Obsługa dotknięcia ekranu dotykowego
    document.addEventListener('touchstart', resetTimer);

    // Automatyczne wywołanie okna drukowania po załadowaniu strony
    window.onload = function () {
        // Ustawienie odpowiednich plików SVG w zależności od języka
        const lang = new URLSearchParams(window.location.search).get('lang') || 'en';
        document.getElementById('svg1').src = `cv_1_${lang}.svg`;
        document.getElementById('svg2').src = `cv_2_${lang}.svg`;

        // Wywołanie okna drukowania
        window.print();
    };

    // Obsługa zamknięcia okna drukowania
    window.onafterprint = function () {
        setTimeout(goBack, delay); // Dodanie opóźnienia przed cofnięciem strony
    };
</script>

</body>
</html>